import { pool } from "./db/pool.js";
import dotenv from "dotenv";

dotenv.config();

async function seedJobs() {
  console.log("Seeding scraper jobs...");
  
  // Example matricule numbers - replace with actual ones you want to scrape
  const matricules = [
   "8726-96-5430-0-000-0000",
"8727-14-6191-0-000-0000",
"8727-37-1023-0-000-0000",
"8727-51-5839-0-000-0000",
"8728-24-9280-0-000-0000",
"8728-26-6078-0-000-0000",
"8728-59-1294-0-000-0000",
"8728-88-6968-0-000-0000",
"8728-85-2479-0-000-0000",
"8728-86-6345-0-000-0000",
"8728-94-4645-0-000-0000",
"8737-67-4936-0-000-0000",
"8824-05-8934-0-000-0000",
"8824-11-0528-0-000-0000",
"8824-19-6525-0-000-0000",
"8825-10-4407-0-000-0000",
"8825-11-0546-0-000-0000",
"8825-12-6333-0-000-0000",
"8825-48-6409-0-000-0000",
"8825-97-8374-0-000-0000",
"8825-80-8547-0-000-0000",
"8826-60-6374-0-000-0000",
"8826-62-5325-0-000-0000",
"8826-63-8817-0-000-0000",
"8827-16-6528-0-000-0000",
"8827-29-8332-0-000-0000",
"8827-46-0060-0-000-0000",
"8827-46-6383-0-000-0000",
"8827-48-8781-0-000-0000",
"8827-80-6325-0-000-0000",
"8827-80-9012-0-000-0000",
"8828-11-9118-0-000-0000",
"8828-17-9614-0-000-0000",
"8828-42-7756-0-000-0000",
"8828-75-9195-0-000-0000",
"8828-80-9348-0-000-0000",
"8828-80-9128-0-000-0000",
"8727-93-8381-0-000-0000",
"8727-97-0950-0-000-0000",
"8728-69-4095-0-000-0000",
"8728-69-9608-0-000-0000",
"8728-71-4359-0-000-0000",
"8729-39-6602-0-000-0000",
"8729-70-5374-0-000-0000",
"8730-20-7809-0-000-0000",
"8822-72-2111-0-000-0000",
"8823-07-5978-0-000-0000",
"8825-01-2850-0-000-0000",
"8825-01-7841-0-000-0000",
"8825-02-2900-0-000-0000",
"8825-25-9687-0-000-0000",
"8825-26-7085-0-000-0000",
"8825-27-8941-0-000-0000",
"8826-51-3393-0-000-0000",
"8826-53-1103-0-000-0000",
"8826-53-7713-0-000-0000",
"8826-79-1214-0-000-0000",
"8826-86-8375-0-000-0000",
"8826-88-2584-0-000-0000",
"8826-92-1221-0-000-0000",
"8826-94-7186-0-000-0000",
"8826-96-4668-0-000-0000",
"8826-98-5869-0-000-0000",
"8827-72-5467-0-000-0000",
"8827-74-6983-0-000-0000",
"8827-75-4537-0-000-0000",

    // Add more real matricule numbers here
  ];
  
  try {
    for (const matricule of matricules) {
      const url = `https://vplus.modellium.com/api/espace-evaluation.sherbrooke.ca/role/search/info-ue?matricule=${matricule}`;
      
      await pool.query(
        `INSERT INTO pages (project, url, scrape_method) 
         VALUES ($1, $2, $3) 
         ON CONFLICT (project, url) DO NOTHING`,
        ['gig_real_estate/sherbrooke_full', url, 'axiosJson']
      );
      
      console.log(`Added job for matricule: ${matricule}`);
    }
    
    console.log("✓ Jobs seeded successfully");
  } catch (error) {
    console.error("✗ Error seeding jobs:", error);
  } finally {
    await pool.end();
  }
}

seedJobs();
